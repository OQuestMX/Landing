<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO y Metadatos -->
    <title>Eduardo Taylor Elizondo — Consultoría para navegar la complejidad</title>
    <meta name="description" content="Consultoría estratégica en Monterrey. Aplico marcos de complejidad como Cynefin y Wardley Maps para resolver problemas organizacionales y desarrollar talento.">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Eduardo Taylor Elizondo — Consultoría, Complejidad y Juegos Serios">
    <meta property="og:description" content="Consultoría estratégica para resolver problemas organizacionales reales.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="img/og-placeholder.png">
    <meta property="og:url" content="https://example.com"> <!-- Cambia esto a tu URL final -->

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="img/favicon.png" sizes="32x32">

    <!-- Estilos CSS Embebidos -->
    <style>
        :root {
            --white: #FFFFFF;
            --background-alt: #f0f4f8;
            --text: #111111;
            --blue: #004B87;
            --blue-hover: #0074CC;
            --blue-soft: #D0E4F2;
            --lines-borders: #8AA8BD;
            --retro-accent: #008080;
            --font-family-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            --font-family-mono: "Courier New", Courier, ui-monospace, monospace;
        }

        *, *::before, *::after { box-sizing: border-box; }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 56px;
        }

        body {
            background-color: var(--white);
            color: var(--text);
            font-family: var(--font-family-sans);
            margin: 0;
            line-height: 1.7;
        }
        
        body.modal-open { overflow: hidden; }

        body::after {
            content: "";
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            background: repeating-linear-gradient(0deg, rgba(0,0,0,0.05), rgba(0,0,0,0.05) 1px, transparent 1px, transparent 2px);
            pointer-events: none;
            z-index: 9999;
        }

        .container {
            max-width: 960px;
            margin-left: auto; margin-right: auto;
            padding-left: 20px; padding-right: 20px;
        }

        section {
            padding: 64px 20px;
            border-bottom: 1px solid var(--lines-borders);
        }

        main > section:nth-of-type(even) { background-color: var(--background-alt); }

        h1, h2, h3, h4 {
            margin-top: 0; margin-bottom: 1rem;
            line-height: 1.2;
            color: var(--blue);
            font-family: var(--font-family-mono);
        }

        h1 { font-size: 2.2rem; }
        h2 { font-size: 1.5rem; }
        h3 { font-size: 1.15rem; }
        h4 { font-size: 1rem; color: var(--text); }

        a {
            color: var(--blue);
            text-decoration: underline;
            text-decoration-thickness: 1px;
            transition: color 0.2s, text-decoration-color 0.2s, text-decoration-thickness 0.2s;
        }
        a:hover, a:focus-visible { 
            color: var(--blue-hover);
            text-decoration-color: var(--blue-hover);
            text-decoration-thickness: 2px;
            outline: none;
        }

        /* --- Header y Navegación --- */
        .site-header {
            background-color: var(--white);
            border-bottom: 2px solid var(--text);
            height: 56px;
            position: sticky; top: 0;
            z-index: 1000;
        }
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
            gap: 20px;
        }
        .logo a {
            font-size: 1.25rem;
            font-weight: bold;
            text-decoration: none; color: var(--text);
            font-family: var(--font-family-mono);
            line-height: 1.2;
        }
        .main-nav ul { list-style: none; margin: 0; padding: 0; display: flex; gap: 16px; flex-shrink: 0; }
        .main-nav a { text-decoration: none; position: relative; padding-bottom: 4px; font-family: var(--font-family-mono); }
        .main-nav a::after {
            content: ''; position: absolute; bottom: 0; left: 0;
            width: 100%; height: 2px;
            background-color: var(--retro-accent);
            transform: scaleX(0); transform-origin: left;
            transition: transform 0.3s ease-in-out;
        }
        .main-nav a:hover::after, .main-nav a:focus-visible::after { transform: scaleX(1); }

        /* --- Hero / Quién Soy Section (Unificada) --- */
        #quien-soy {
            padding-top: 48px;
            padding-bottom: 48px;
        }
        .intro-layout {
            display: flex;
            flex-direction: column;
            gap: 48px;
        }
        .intro-title-area { flex: 1; }
        .intro-bio-area { flex: 1.5; }
        #hero-title { position: relative; min-height: 1.2em; }
        #hero-title.typing::after {
            content: '▌'; position: absolute; right: -0.2em;
            color: var(--blue);
            animation: blink 1s step-end infinite;
        }
        .intro-title-area .subtitle { font-size: 1.1rem; color: var(--text); margin-top: 0.5rem; max-width: 40ch; }
        .separator { width: 100%; height: 2px; margin-top: 2rem; background: linear-gradient(90deg, var(--retro-accent), transparent, var(--blue)); }
        @keyframes blink { 50% { opacity: 0; } }
        .section-title { margin-bottom: 24px; }
        .section-title::after { content: '▌'; display: inline-block; margin-left: 8px; color: var(--blue); animation: blink 1s step-end infinite; }
        .quien-soy-content-simplified { font-size: 1.1rem; }
        .footnote-ref {
            font-family: var(--font-family-sans);
            font-weight: bold;
            color: var(--retro-accent);
            cursor: help;
            text-decoration: underline dotted;
        }
        
        /* --- Footnotes Section --- */
        #footnotes {
            background-color: var(--text);
            color: var(--white);
            position: sticky;
            bottom: 0;
            z-index: 500;
            padding: 16px 20px;
            min-height: 80px;
            border-top: 2px solid var(--retro-accent);
        }
        #footnotes h4 { color: var(--white); }
        #footnote-display {
            font-family: var(--font-family-mono);
            color: var(--blue-soft);
            min-height: 1.5em; /* Evita que el layout salte */
            transition: color 0.2s;
        }
        #footnote-display:empty::before {
            content: "Pasa el cursor sobre un número para ver la nota...";
            color: var(--lines-borders);
            opacity: 0.7;
        }

        /* --- Lo Que Hago --- */
        .services-layout {
            display: flex;
            flex-direction: column;
            gap: 32px;
            margin-top: 24px;
        }
        .services-menu { list-style: none; padding: 0; margin: 0; flex-shrink: 0; }
        .services-menu li a {
            display: block; padding: 12px 16px;
            text-decoration: none; font-family: var(--font-family-mono);
            border: 1px solid transparent;
            border-left: 3px solid var(--lines-borders);
            transition: all 0.2s ease-out;
        }
        .services-menu li a:hover { background-color: var(--blue-soft); border-left-color: var(--blue-hover); }
        .services-menu li a.active {
            background-color: var(--white);
            border-color: var(--lines-borders);
            border-left-color: var(--retro-accent);
            box-shadow: 2px 2px 0 var(--lines-borders);
            transform: translateX(4px);
        }
        .service-panel {
            background-color: var(--white);
            border: 1px solid var(--lines-borders);
            padding: 24px;
            min-height: 300px;
            opacity: 0;
            transform: translateX(20px);
            transition: opacity 0.4s ease, transform 0.4s ease;
        }
        .service-panel.active { opacity: 1; transform: translateX(0); }
        .service-panel-content ul { padding-left: 20px; }
        .service-panel-content h3 { margin-top: 0; }

        /* --- Contacto (Formulario Optimizado con Icono) --- */
        .contact-layout {
            display: flex;
            gap: 24px;
            margin-top: 24px;
        }
        .contact-icon-area {
            flex: 0 0 20%;
            display: flex;
            justify-content: center;
            align-items: center;
            border-right: 1px solid var(--lines-borders);
            padding-right: 24px;
        }
        .contact-icon-link svg {
            width: 60px;
            height: auto;
            fill: var(--lines-borders);
            transition: fill 0.2s ease, transform 0.2s ease;
        }
        .contact-icon-link:hover svg {
            fill: var(--retro-accent);
            transform: scale(1.05);
        }
        .contact-form-wrapper {
            flex: 1 1 80%;
        }
        #contact-form {
            display: grid;
            gap: 16px 24px;
            grid-template-areas:
                "name email"
                "message message"
                "verticals verticals"
                "actions actions";
        }
        .form-group { margin: 0; }
        .form-group-name { grid-area: name; }
        .form-group-email { grid-area: email; }
        .form-group-message { grid-area: message; }
        .form-group-verticals { grid-area: verticals; }
        .form-actions { grid-area: actions; }
        
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: bold; }
        .form-group input, .form-group textarea {
            width: 100%; padding: 8px;
            font-family: var(--font-family-mono);
            border: 1px solid var(--lines-borders);
            background-color: var(--white);
            color: var(--text); font-size: 1rem;
        }
        .form-group input:focus-visible, .form-group textarea:focus-visible {
            outline: 2px solid var(--retro-accent);
            outline-offset: 1px; border-color: var(--retro-accent);
        }
        .checkbox-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 8px 16px;
            padding-top: 8px;
        }
        .checkbox-item { display: flex; align-items: center; }
        .checkbox-item input[type="checkbox"] { margin-right: 8px; width: 16px; height: 16px; accent-color: var(--blue); }
        .checkbox-item label { margin-bottom: 0; font-weight: normal; }
        .form-actions { display: flex; gap: 16px; flex-wrap: wrap; align-items: center; }
        .btn { padding: 10px 16px; font-family: var(--font-family-mono); font-size: 1rem; border: 2px solid var(--text); cursor: pointer; transition: all 0.2s; box-shadow: 2px 2px 0px var(--text); text-decoration: none; display: inline-block; }
        .btn:hover, .btn:focus-visible { box-shadow: 4px 4px 0px var(--text); transform: translate(-1px, -1px); }
        .btn:active { box-shadow: 0px 0px 0px var(--text); transform: translate(2px, 2px); }
        .btn-primary { background-color: var(--blue); color: var(--white); }
        .btn-ghost { background-color: transparent; color: var(--blue); border-color: var(--blue); }

        /* --- Footer (Simplificado) --- */
        .site-footer-main { padding: 24px 0; background-color: var(--background-alt); border-bottom: 0; }
        .footer-content { display: flex; justify-content: center; align-items: center; }

        /* --- Modal / Pop-up --- */
        .modal {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex; justify-content: center; align-items: center;
            z-index: 2000;
            opacity: 0; pointer-events: none;
            transition: opacity 0.3s ease-in-out;
        }
        .modal.active { opacity: 1; pointer-events: auto; }
        .modal-content {
            background-color: var(--background-alt);
            padding: 32px;
            border: 2px solid var(--text);
            box-shadow: 8px 8px 0px var(--retro-accent);
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        .modal-close-btn {
            position: absolute; top: 10px; right: 10px;
            background: none; border: none;
            font-family: var(--font-family-mono);
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text);
        }
        .modal-body h3 { margin-top: 0; }
        .modal-body ul { padding-left: 20px; }

        /* --- Responsive Media Queries --- */
        @media (max-width: 720px) {
            .contact-layout {
                flex-direction: column;
            }
            .contact-icon-area {
                border-right: none;
                border-bottom: 1px solid var(--lines-borders);
                padding-right: 0;
                padding-bottom: 24px;
            }
            #contact-form {
                grid-template-areas:
                    "name"
                    "email"
                    "message"
                    "verticals"
                    "actions";
            }
        }
        @media (max-width: 600px) {
            .logo a { font-size: 1rem; }
            .main-nav ul { gap: 10px; }
            .main-nav a { font-size: 0.9rem; }
        }
        @media (min-width: 720px) {
            .main-nav ul { gap: 24px; }
            .services-layout { flex-direction: row; align-items: flex-start; }
            .services-menu { width: 300px; }
            .service-panel { flex-grow: 1; }
            .intro-layout { flex-direction: row; align-items: flex-start; }
        }
    </style>
</head>
<body>

    <header class="site-header">
        <div class="container header-container">
            <div class="logo"><a href="#">Eduardo Taylor Elizondo</a></div>
            <nav class="main-nav">
                <ul>
                    <li><a href="#quien-soy">Quién soy</a></li>
                    <li><a href="#lo-que-hago">Lo que hago</a></li>
                    <li><a href="#contacto">Contacto</a></li>
                    <li><a href="#" id="book-nav-link">Libro</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="quien-soy" class="container">
            <div class="intro-layout">
                <div class="intro-title-area">
                    <h1 id="hero-title">Consultoría para navegar la complejidad.</h1>
                    <p class="subtitle">Estrategia, talento y decisiones en entornos de alta incertidumbre.</p>
                    <div class="separator"></div>
                </div>
                <div class="intro-bio-area">
                    <h2 class="section-title">Quién soy</h2>
                    <div class="quien-soy-content-simplified">
                        <p>Consultor regiomontano que aplica diagramas epistemo-ontológicos<sup><span class="footnote-ref" data-footnote="1">1</span></sup> a problemas corporativos complejos. Combino un trasfondo en filosofía<sup><span class="footnote-ref" data-footnote="2">2</span></sup> con un MBA<sup><span class="footnote-ref" data-footnote="7">7</span></sup> para sintetizar la entropía organizacional.<sup><span class="footnote-ref" data-footnote="8">8</span></sup> Mi trabajo se centra en arrastrar conceptos abstractos hacia la implementación práctica<sup><span class="footnote-ref" data-footnote="3">3</span></sup>, con un portafolio que va de la consultoría a franquicias educativas basadas en juegos de rol.<sup><span class="footnote-ref" data-footnote="4">4</span></sup></p>
                    </div>
                </div>
            </div>
        </section>

        <section id="lo-que-hago" class="container">
            <h2 id="lo-que-hago-title" class="section-title">Lo que hago</h2>
            <div class="services-layout">
                <ul class="services-menu">
                    <li><a href="#" data-service-target="service-1">Transformación y Complejidad</a></li>
                    <li><a href="#" data-service-target="service-2">Talento Estratégico</a></li>
                    <li><a href="#" data-service-target="service-3">Aceleración y Colisión</a></li>
                    <li><a href="#" data-service-target="service-4">Productos Intelectuales</a></li>
                    <li><a href="#" data-service-target="service-5">Educación y Desarrollo</a></li>
                </ul>
                <div class="service-panel">
                    <!-- El contenido se inyectará aquí -->
                </div>
            </div>
        </section>

        <section id="contacto" class="container">
            <h2 id="contacto-title" class="section-title">¿Cafecito?</h2>
            <div class="contact-layout">
                <div class="contact-icon-area">
                    <a href="https://linktr.ee/etaylor88" target="_blank" class="contact-icon-link" title="Ver más enlaces">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 5h-2V5h2v3zM4 19h16v2H4z"/></svg>
                    </a>
                </div>
                <div class="contact-form-wrapper">
                    <form id="contact-form" novalidate>
                        <div class="form-group form-group-name"><label for="nombre">Nombre</label><input type="text" id="nombre" name="nombre" required></div>
                        <div class="form-group form-group-email"><label for="email">Email</label><input type="email" id="email" name="email" required></div>
                        <div class="form-group form-group-message"><label for="mensaje">Mensaje (Opcional)</label><textarea id="mensaje" name="mensaje" rows="3"></textarea></div>
                        <div class="form-group form-group-verticals">
                            <label>Verticales de interés</label>
                            <div class="checkbox-grid">
                                <div class="checkbox-item"><input type="checkbox" id="v1" name="vertical" value="Transformación"><label for="v1">Transformación<sup><span class="footnote-ref" data-footnote="11">11</span></sup></label></div>
                                <div class="checkbox-item"><input type="checkbox" id="v2" name="vertical" value="Talento"><label for="v2">Talento<sup><span class="footnote-ref" data-footnote="12">12</span></sup></label></div>
                                <div class="checkbox-item"><input type="checkbox" id="v3" name="vertical" value="Aceleración"><label for="v3">Aceleración<sup><span class="footnote-ref" data-footnote="13">13</span></sup></label></div>
                                <div class="checkbox-item"><input type="checkbox" id="v4" name="vertical" value="Productos"><label for="v4">Productos<sup><span class="footnote-ref" data-footnote="14">14</span></sup></label></div>
                                <div class="checkbox-item"><input type="checkbox" id="v5" name="vertical" value="Educación"><label for="v5">Educación<sup><span class="footnote-ref" data-footnote="15">15</span></sup></label></div>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Enviar</button>
                            <button type="button" id="preview-btn" class="btn btn-ghost">Previsualizar</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <section id="footnotes">
        <div class="container">
            <h4>Notas al pie:</h4>
            <p id="footnote-display"></p>
        </div>
    </section>

    <footer class="site-footer-main">
        <div class="container footer-content">
            <!-- Footer vacío a propósito -->
        </div>
    </footer>
    
    <!-- Modal / Pop-up Structure -->
    <div class="modal" id="main-modal">
        <div class="modal-content">
            <button class="modal-close-btn" aria-label="Cerrar">&times;</button>
            <div class="modal-body">
                <!-- El contenido se inyectará aquí con JS -->
            </div>
        </div>
    </div>
    
    <!-- Contenido para el Panel de Servicios (oculto) -->
    <div id="service-contents" style="display: none;">
        <div id="service-1-content">
            <h3>Transformación y Complejidad</h3>
            <p>Utilizo marcos como Cynefin y Wardley Maps para diagnosticar el estado actual de una organización y diseñar estrategias que sean robustas frente a la incertidumbre.<sup><span class="footnote-ref" data-footnote="5">5</span></sup> El objetivo es pasar de soluciones genéricas a intervenciones precisas y seguras.</p>
            <ul><li>Mapeo de sistemas y contextos</li><li>Estrategias adaptativas</li><li>Facilitación de procesos de sense-making</li></ul>
        </div>
        <div id="service-2-content">
            <h3>Talento Estratégico</h3>
            <p>Voy más allá del headhunting tradicional.<sup><span class="footnote-ref" data-footnote="9">9</span></sup> Diseño la arquitectura de roles clave que una organización necesitará en el futuro y busco los perfiles únicos capaces de llenarlos. Esto incluye planes de sucesión y onboarding de alto impacto.</p>
            <ul><li>Diseño y arquitectura de roles</li><li>Búsqueda ejecutiva (Headhunting)</li><li>Estrategias de retención y desarrollo</li></ul>
        </div>
        <div id="service-3-content">
            <h3>Aceleración y Colisión</h3>
            <p>Diseño y facilito sesiones de alto impacto (juegos serios<sup><span class="footnote-ref" data-footnote="6">6</span></sup>, simulaciones, eventos de colisión) para equipos que necesitan tomar decisiones críticas, alinear perspectivas o simplemente salir del estancamiento.</p>
            <ul><li>Juegos serios para la toma de decisiones</li><li>Simulaciones de negocio</li><li>Talleres de alineación estratégica</li></ul>
        </div>
        <div id="service-4-content">
            <h3>Productos Intelectuales</h3>
            <p>Convierto el conocimiento y la experiencia en activos tangibles y escalables.<sup><span class="footnote-ref" data-footnote="10">10</span></sup> Esto puede tomar la forma de playbooks, modelos de negocio, sistemas de métricas o metodologías propietarias que la organización puede usar de forma autónoma.</p>
            <ul><li>Desarrollo de Playbooks</li><li>Diseño de modelos de negocio</li><li>Creación de metodologías internas</li></ul>
        </div>
        <div id="service-5-content">
            <h3>Educación y Desarrollo</h3>
            <p>Creo programas de formación a medida para líderes y equipos, enfocados en desarrollar las habilidades necesarias para operar en entornos complejos. Los temas van desde la teoría de la complejidad aplicada hasta la toma de decisiones bajo presión.</p>
            <ul><li>Talleres de complejidad y Cynefin</li><li>Capacitación ejecutiva en pensamiento estratégico</li><li>Charlas y conferencias</li></ul>
        </div>
    </div>

    <!-- Contenido para el Modal "Libro del Momento" (oculto) -->
    <div id="book-modal-content" style="display:none;">
        <h3>Libro del Momento: <em>¿Qué es la filosofía?</em></h3>
        <h4>Gilles Deleuze & Félix Guattari</h4>
        <p>Un manual de instrucciones para construir armas conceptuales que nadie, incluyéndote a ti mismo, sabrá cómo usar. Deleuze y Guattari no preguntan '¿Qué es la filosofía?' para obtener una respuesta, sino para desmantelar la pregunta hasta que solo queden fragmentos de alta velocidad—caos, cerebro y conceptos. La lectura es como un electroshock para el alma: dolorosa, probablemente innecesaria, pero te deja con la certeza de que <em>algo</em> ha cambiado. Ideal para cualquiera que sospeche que pensar no debería ser un acto confortable.</p>
    </div>

    <!-- Contenido para las Notas al Pie (oculto) -->
    <div id="footnote-contents" style="display: none;">
        <p data-footnote="1">Relativo a la naturaleza del conocimiento (epistemología) y del ser (ontología). En la práctica, significa clasificar problemas según si sus causas son conocidas o desconocidas, para poder actuar en consecuencia.</p>
        <p data-footnote="2">Una formación en filosofía y literatura que aporta una capacidad (ojalá) superior para la síntesis y el pensamiento crítico, en contraste con el enfoque puramente instrumental de los negocios.</p>
        <p data-footnote="3">La habilidad de mover ideas desde el plano conceptual hasta la implementación, con una alta tolerancia a la experimentación y a la iteración en ciclos rápidos. La estrategia sin ejecución es alucinación.</p>
        <p data-footnote="4">Una exploración de las convergencias entre filosofía, teoría de sistemas, antropología, gamificación y negocios. Se manifiesta en proyectos que van desde la innovación en consultoría hasta franquicias educativas.</p>
        <p data-footnote="5">La incertidumbre no es un bug, es una feature del sistema. Las estrategias deben diseñarse con esto en mente, favoreciendo la adaptabilidad sobre la predicción rígida.</p>
        <p data-footnote="6">No son "dinámicas de grupo". Son simulaciones diseñadas para revelar los modelos mentales y los puntos de fricción de un equipo en un entorno de bajo riesgo y alto aprendizaje.</p>
        <p data-footnote="7">El Master of Business Administration. Un mal necesario para traducir ideas filosóficas al lenguaje del capital y las hojas de cálculo.</p>
        <p data-footnote="8">El desorden inherente y la falta de información clara en una organización. Mi trabajo es reducirla o, al menos, hacerla navegable.</p>
        <p data-footnote="9">El headhunting tradicional busca llenar una vacante existente. Yo busco entender la estrategia para definir la vacante que *debería* existir en 6-12 meses.</p>
        <p data-footnote="10">El objetivo es que mi conocimiento no se vaya conmigo. Se queda en la organización como un sistema que pueden seguir utilizando y mejorando.</p>
        <p data-footnote="11">Navegar cambios organizacionales profundos, desde reestructuras hasta la adopción de nuevas tecnologías o modelos de negocio.</p>
        <p data-footnote="12">Atraer, retener y desarrollar a las personas clave que impulsan la estrategia de la empresa.</p>
        <p data-footnote="13">Romper la inercia y generar movimiento en equipos o proyectos estancados a través de intervenciones focalizadas.</p>
        <p data-footnote="14">Codificar el 'know-how' de la empresa en activos reutilizables como manuales, modelos o software.</p>
        <p data-footnote="15">Elevar la capacidad del liderazgo y los equipos para pensar de manera más estratégica y sistémica.</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            const handleTypewriterEffect = () => {
                const el = document.getElementById('hero-title');
                if (!el) return;
                const text = el.textContent;
                el.textContent = '';
                el.classList.add('typing');
                let i = 0;
                const type = () => {
                    if (i < text.length) {
                        el.textContent += text.charAt(i++);
                        setTimeout(type, 70);
                    } else {
                        el.classList.remove('typing');
                    }
                };
                setTimeout(type, 500);
            };

            const handleFootnotes = () => {
                const display = document.getElementById('footnote-display');
                const contents = document.querySelectorAll('#footnote-contents p');
                const footnoteMap = new Map();
                contents.forEach(p => footnoteMap.set(p.dataset.footnote, p.innerHTML));

                document.body.addEventListener('mouseover', (e) => {
                    if (e.target.classList.contains('footnote-ref')) {
                        const key = e.target.dataset.footnote;
                        if (display && footnoteMap.has(key)) {
                            display.innerHTML = `<strong>[${key}]</strong> ${footnoteMap.get(key)}`;
                        }
                    }
                });

                document.body.addEventListener('mouseout', (e) => {
                    if (e.target.classList.contains('footnote-ref')) {
                        if (display) display.innerHTML = '';
                    }
                });
            };

            const handleServicesPanel = () => {
                const menuItems = document.querySelectorAll('.services-menu a');
                const panel = document.querySelector('.service-panel');
                const contents = document.querySelectorAll('#service-contents > div');
                const serviceMap = new Map();
                contents.forEach(div => serviceMap.set(div.id, div.innerHTML));

                menuItems.forEach(item => {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        menuItems.forEach(i => i.classList.remove('active'));
                        item.classList.add('active');

                        const targetId = item.dataset.serviceTarget + '-content';
                        if (panel && serviceMap.has(targetId)) {
                            panel.innerHTML = `<div class="service-panel-content">${serviceMap.get(targetId)}</div>`;
                            panel.classList.add('active');
                        }
                    });
                });
                
                if (menuItems.length > 0) {
                    menuItems[0].click();
                }
            };

            const handleModal = () => {
                const modal = document.getElementById('main-modal');
                if (!modal) return;
                const modalBody = modal.querySelector('.modal-body');
                const closeBtn = modal.querySelector('.modal-close-btn');
                const bookTrigger = document.getElementById('book-nav-link');
                const bookContent = document.getElementById('book-modal-content');

                const openModal = (contentHTML) => {
                    modalBody.innerHTML = contentHTML;
                    modal.classList.add('active');
                    document.body.classList.add('modal-open');
                };

                const closeModal = () => {
                    modal.classList.remove('active');
                    document.body.classList.remove('modal-open');
                };
                
                if (bookTrigger && bookContent) {
                    bookTrigger.addEventListener('click', (e) => {
                        e.preventDefault();
                        openModal(bookContent.innerHTML);
                    });
                }

                closeBtn.addEventListener('click', closeModal);
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) closeModal();
                });
            };
            
            const handleContactForm = () => {
                const form = document.getElementById('contact-form');
                if (!form) return;
                const previewBtn = document.getElementById('preview-btn');
                const buildMailtoLink = () => {
                    const name = form.nombre.value.trim();
                    const email = form.email.value.trim();
                    const msg = form.mensaje.value.trim();
                    const verticals = Array.from(form.querySelectorAll('input[name="vertical"]:checked')).map(cb => `- ${cb.value}`).join('\n');
                    let body = `Hola,\n\nMi nombre es ${name} (${email}).\n\n`;
                    if (verticals) body += `Estoy interesado/a en:\n${verticals}\n\n`;
                    if (msg) body += `Mi mensaje es:\n"${msg}"\n`;
                    return `mailto:eduardo@officequest.net?subject=${encodeURIComponent("Cafecito — Portafolio")}&body=${encodeURIComponent(body)}`;
                };
                previewBtn.addEventListener('click', () => window.location.href = buildMailtoLink());
                form.addEventListener('submit', e => {
                    e.preventDefault();
                    if (!form.nombre.value.trim() || !form.email.value.trim()) {
                        alert('Completa nombre y email.');
                        return;
                    }
                    window.location.href = buildMailtoLink();
                });
            };

            const handleKonamiCode = () => {
                const seq = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
                let i = 0;
                document.addEventListener('keydown', e => {
                    i = (e.key.toLowerCase() === seq[i]) ? i + 1 : 0;
                    if (i === seq.length) {
                        console.log("%c¡Código Konami activado!", "color: #008080; font-size: 20px; font-weight: bold; font-family: 'Courier New', monospace;");
                        i = 0;
                    }
                });
            };

            handleTypewriterEffect();
            handleFootnotes();
            handleServicesPanel();
            handleModal();
            handleContactForm();
            handleKonamiCode();
        });
    </script>
</body>
</html>
